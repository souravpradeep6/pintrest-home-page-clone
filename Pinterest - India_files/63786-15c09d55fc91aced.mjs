(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63786],{361600:e=>{var t,n,i,r,o,s,a,l,c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},i={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[o,l={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,i],kind:"Operation",name:"AllShareOptionsUtilityMutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[s,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"1705ed8db84c79dc12b83cafd1757686fa888571bbecd699295d011693ddd4cf",metadata:{},name:"AllShareOptionsUtilityMutation",operationKind:"mutation",text:null}};c.hash="7e73aab163ac599c2451f08566f2eb15",e.exports=c},865107:e=>{var t,n,i,r,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[r],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=o},701305:e=>{var t=[],n=[];function i(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var o=Object.prototype.toString,s=o.call(e);if(s!=o.call(t))return!1;switch(s){case"[object String]":return e==String(t);case"[object Number]":return!isNaN(e)&&!isNaN(t)&&e==Number(t);case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;n.push(e),r.push(t);var l=0;if("[object Array]"===s){if((l=e.length)!==t.length)return!1;for(;l--;)if(!i(e[l],t[l],n,r))return!1}else{if(e.constructor!==t.constructor)return!1;if(e.hasOwnProperty("valueOf")&&t.hasOwnProperty("valueOf"))return e.valueOf()==t.valueOf();var c=Object.keys(e);if(c.length!=Object.keys(t).length)return!1;for(var d=0;d<c.length;d++)if(!i(e[c[d]],t[c[d]],n,r))return!1}return n.pop(),r.pop(),!0}e.exports=function(e,r){var o=t.length?t.pop():[],s=n.length?n.pop():[],a=i(e,r,o,s);return o.length=0,s.length=0,t.push(o),n.push(s),a}},60139:e=>{function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},663620:(e,t,n)=>{var i=n(60139);e.exports=i},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},477412:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},286556:(e,t,n)=>{var i=n(789465),r=n(977813);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},234865:(e,t,n)=>{var i=n(789465),r=n(977813),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&r(s,n)&&(void 0!==n||t in e)||i(e,t,n)}},744037:(e,t,n)=>{var i=n(698363),r=n(3674);e.exports=function(e,t){return e&&i(t,r(t),e)}},163886:(e,t,n)=>{var i=n(698363),r=n(481704);e.exports=function(e,t){return e&&i(t,r(t),e)}},789465:(e,t,n)=>{var i=n(538777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},285990:(e,t,n)=>{var i=n(646384),r=n(477412),o=n(234865),s=n(744037),a=n(163886),l=n(364626),c=n(200278),d=n(318805),u=n(201911),h=n(458234),p=n(946904),_=n(664160),g=n(43824),f=n(529148),m=n(738517),v=n(701469),b=n(644144),y=n(356688),x=n(513218),w=n(472928),j=n(3674),S=n(481704),A="[object Arguments]",P="[object Function]",C="[object Object]",k={};k[A]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[C]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[P]=k["[object WeakMap]"]=!1,e.exports=function e(t,n,O,I,T,E){var L,z=1&n,F=2&n,R=4&n;if(O&&(L=T?O(t,I,T,E):O(t)),void 0!==L)return L;if(!x(t))return t;var M=v(t);if(M){if(L=g(t),!z)return c(t,L)}else{var D=_(t),N=D==P||"[object GeneratorFunction]"==D;if(b(t))return l(t,z);if(D==C||D==A||N&&!T){if(L=F||N?{}:m(t),!z)return F?u(t,a(L,t)):d(t,s(L,t))}else{if(!k[D])return T?t:{};L=f(t,D,z)}}E||(E=new i);var B=E.get(t);if(B)return B;E.set(t,L),w(t)?t.forEach((function(i){L.add(e(i,n,O,i,t,E))})):y(t)&&t.forEach((function(i,r){L.set(r,e(i,n,O,r,t,E))}));var Z=M?void 0:(R?F?p:h:F?S:j)(t);return r(Z||t,(function(i,r){Z&&(i=t[r=i]),o(L,r,e(i,n,O,r,t,E))})),L}},603118:(e,t,n)=>{var i=n(513218),r=Object.create,o=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},225588:(e,t,n)=>{var i=n(664160),r=n(637005);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},829221:(e,t,n)=>{var i=n(664160),r=n(637005);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},710313:(e,t,n)=>{var i=n(513218),r=n(225726),o=n(133498),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return o(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},642980:(e,t,n)=>{var i=n(646384),r=n(286556),o=n(228483),s=n(559783),a=n(513218),l=n(481704),c=n(636390);e.exports=function e(t,n,d,u,h){t!==n&&o(n,(function(o,l){if(h||(h=new i),a(o))s(t,n,l,d,e,u,h);else{var p=u?u(c(t,l),o,l+"",t,n,h):void 0;void 0===p&&(p=o),r(t,l,p)}}),l)}},559783:(e,t,n)=>{var i=n(286556),r=n(364626),o=n(477133),s=n(200278),a=n(738517),l=n(135694),c=n(701469),d=n(229246),u=n(644144),h=n(623560),p=n(513218),_=n(968630),g=n(936719),f=n(636390),m=n(959881);e.exports=function(e,t,n,v,b,y,x){var w=f(e,n),j=f(t,n),S=x.get(j);if(S)i(e,n,S);else{var A=y?y(w,j,n+"",e,t,x):void 0,P=void 0===A;if(P){var C=c(j),k=!C&&u(j),O=!C&&!k&&g(j);A=j,C||k||O?c(w)?A=w:d(w)?A=s(w):k?(P=!1,A=r(j,!0)):O?(P=!1,A=o(j,!0)):A=[]:_(j)||l(j)?(A=w,l(w)?A=m(w):p(w)&&!h(w)||(A=a(j))):P=!1}P&&(x.set(j,A),b(A,j,v,y,x),x.delete(j)),i(e,n,A)}}},105976:(e,t,n)=>{var i=n(406557),r=n(545357),o=n(430061);e.exports=function(e,t){return o(r(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),r=n(538777),o=n(406557),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:o;e.exports=s},274318:(e,t,n)=>{var i=n(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},364626:(e,t,n)=>{e=n.nmd(e);var i=n(555639),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=a?a(n):new e.constructor(n);return e.copy(i),i}},257157:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},540419:(e,t,n)=>{var i=n(562705),r=i?i.prototype:void 0,o=r?r.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},477133:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},698363:(e,t,n)=>{var i=n(234865),r=n(789465);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],d=o?o(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),s?r(n,c,d):i(n,c,d)}return n}},318805:(e,t,n)=>{var i=n(698363),r=n(799551);e.exports=function(e,t){return i(e,r(e),t)}},201911:(e,t,n)=>{var i=n(698363),r=n(151442);e.exports=function(e,t){return i(e,r(e),t)}},321463:(e,t,n)=>{var i=n(105976),r=n(816612);e.exports=function(e){return i((function(t,n){var i=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(o--,s):void 0,a&&r(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++i<o;){var l=n[i];l&&e(t,l,i,s)}return t}))}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(o[l],l,o))break}return t}}},538777:(e,t,n)=>{var i=n(610852),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},946904:(e,t,n)=>{var i=n(868866),r=n(151442),o=n(481704);e.exports=function(e){return i(e,o,r)}},385924:(e,t,n)=>{var i=n(205569)(Object.getPrototypeOf,Object);e.exports=i},151442:(e,t,n)=>{var i=n(862488),r=n(385924),o=n(799551),s=n(770479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,o(e)),e=r(e);return t}:s;e.exports=a},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},529148:(e,t,n)=>{var i=n(274318),r=n(257157),o=n(593147),s=n(540419),a=n(477133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return o(e);case"[object Set]":return new l;case"[object Symbol]":return s(e)}}},738517:(e,t,n)=>{var i=n(603118),r=n(385924),o=n(225726);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:i(r(e))}},816612:(e,t,n)=>{var i=n(977813),r=n(498612),o=n(565776),s=n(513218);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&o(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},545357:(e,t,n)=>{var i=n(896874),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=r(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(l),i(e,this,c)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},430061:(e,t,n)=>{var i=n(356560),r=n(521275)(i);e.exports=r},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},150361:(e,t,n)=>{var i=n(285990);e.exports=function(e){return i(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},406557:e=>{e.exports=function(e){return e}},229246:(e,t,n)=>{var i=n(498612),r=n(637005);e.exports=function(e){return r(e)&&i(e)}},356688:(e,t,n)=>{var i=n(225588),r=n(307518),o=n(531167),s=o&&o.isMap,a=s?r(s):i;e.exports=a},968630:(e,t,n)=>{var i=n(644239),r=n(385924),o=n(637005),s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},472928:(e,t,n)=>{var i=n(829221),r=n(307518),o=n(531167),s=o&&o.isSet,a=s?r(s):i;e.exports=a},481704:(e,t,n)=>{var i=n(14636),r=n(710313),o=n(498612);e.exports=function(e){return o(e)?i(e,!0):r(e)}},682492:(e,t,n)=>{var i=n(642980),r=n(321463)((function(e,t,n){i(e,t,n)}));e.exports=r},959881:(e,t,n)=>{var i=n(698363),r=n(481704);e.exports=function(e){return i(e,r(e))}},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,r=null;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return null!==n&&n.length===o.length&&o.every((function(e,i){return t(e,n[i])}))||(r=e.apply(void 0,o)),n=o,r}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=0,l=r.pop(),c=o(r),d=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(i)),u=function(e,t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var s=c.map((function(n){return n.apply(void 0,[e,t].concat(r))}));return d.apply(void 0,n(s))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?a:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var a=t.P1=s(r)},141280:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),r=n(124580),o=n(740990),s=n(223815),a=n(643010),l=n(968121),c=n(494349),d=n(883119),u=n(785893);const h={border:(0,a.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,a.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},p={modalOpen:{__style:{...h}},modalClose:{__style:{...h,transform:"translate3d(0px, 100%, 0px)"}}};function _({accessibilityModalLabel:e,allowClickAndDrag:t,children:n,isOpen:a}){const{setAppFocusState:h}=(0,c.I)(),_=(0,i.useRef)(null);return(0,i.useEffect)((()=>(a&&(r.Z.pause(),h(!1),document.body&&(document.body.style.overflow="hidden")),()=>{a&&(r.Z.resume(),h(!0),document.body&&(document.body.style.overflow=""))})),[a,h]),(0,u.jsx)(s.Z,{allowClickAndDrag:t,children:(0,u.jsx)(d.mh,{zIndex:l.b7,children:(0,u.jsx)(d.xu,{display:"inlineBlock",role:"dialog","aria-label":e,children:(0,u.jsx)(d.xu,{ref:_,dangerouslySetInlineStyle:{__style:a?p.modalOpen.__style:p.modalClose.__style},children:(0,u.jsx)(o.Z.Provider,{value:_.current,children:n})})})})})}},500594:(e,t,n)=>{n.d(t,{Bb:()=>m,Bx:()=>c,DF:()=>s,F4:()=>l,OG:()=>o,Qj:()=>d,_6:()=>f,gv:()=>a,hg:()=>u,is:()=>_,jP:()=>g,lt:()=>r,oM:()=>h,wI:()=>p});var i=n(826067);const r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),o=e=>e.pathname,s=e=>{var t;return null!==(t=null==e?void 0:e._('You\'ll need to log in to do that', 'limitedLogin.modalHeader.completeAction', 'Mobile web limited login modal to prompt users to log in in order to complete current action'))&&void 0!==t?t:"You'll need to log in to do that"},a=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),l=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},c=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),h=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},_=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),g=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),f=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),m=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},209236:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(667294),r=n(702664),o=n(90771),s=n(31149),a=n(659522),l=n(214680),c=n(331744),d=n(172071),u=n(757146),h=n(785893);function p({size:e=56}){return(0,h.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,h.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var _=n(862960),g=n(941646),f=n(499128),m=n(464240),v=n(287072),b=n(89396),y=n(22641),x=n(467570),w=n(773285),j=n(50286),S=n(167912),A=n(780280),P=n(898781),C=n(112690),k=n(391968),O=n(833715),I=n(539497),T=n(883119),E=n(957161),L=n(276775),z=n(343341);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R=56,M=String(86),D=({text:e})=>(0,h.jsx)(T.xv,{align:"center",size:"100",children:e});class N extends i.PureComponent{constructor(...e){super(...e),F(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),F(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,O.sF)(n,t,e,this.showCopyToast)})),F(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,h.jsx)(f.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),(0,I.LW)({action:"click",pageLocation:this.props.location,item:"copy-link-share-icon"})})),F(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,O.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),F(this,"getAppOrder",(()=>{const{isDesktop:e}=this.props;let t=JSON.parse((0,E.qn)(k.B));return!t||e?this.getDefaultAppOrder():(t=[...t.filter((e=>11!==e&&12!==e)),12],Boolean(navigator.share)&&t.push(11),t)})),F(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||k.F6.has(e)||(0,E.Nh)(k.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),F(this,"handleMessagingAppClick",(e=>{var t,n,i,r;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(r=this.props).setShareSent)||void 0===i||i.call(r,!0),this.logShareClick(e),this.setFreshInviteCode(e),k.rO.has(e)||(0,E.Nh)(k.Cq,e),this.setNewAppOrder(e)})),F(this,"handleMessengerClick",(()=>{(0,I.LW)({action:"click",pageLocation:this.props.location,item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),F(this,"handleTwitterClick",(()=>{(0,I.LW)({action:"click",pageLocation:this.props.location,item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),F(this,"handleWhatsappClick",(()=>{(0,I.LW)({action:"click",pageLocation:this.props.location,item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),F(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),F(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),F(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),F(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),(0,I.LW)({action:"click",pageLocation:this.props.location,item:"email-share-button"})})),F(this,"handleFacebookClick",(e=>{var t,n,i,r;const{isDesktop:o}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(r=this.props).setShareSent)||void 0===i||i.call(r,!0),(0,I.My)(`pcons.${o?"desktop":"mobile"}.facebook-share-icon`),(0,I.LW)({action:"click",pageLocation:this.props.location,item:"facebook-share-icon"});const{inviteCode:s,invitePath:a,fbLoaded:l}=this.state;(0,O.Rh)(l,a,s||"",(()=>this.logShareClick(5))),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),F(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),F(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:r,clientTrackingParams:o,logContextEvent:s,viewType:a,viewParameter:l}=this.props;(0,O.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:r,clientTrackingParams:o,logContextEvent:s,view_type:a,view_parameter:l},this.props.relayEnvironment)})),F(this,"copyButtonRef",null),F(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:r,WhatsApp:o,Twitter:s,Viber:a,Telegram:l,CopyLink:c,Sms:d,ShareVia:u})=>{const p=this.getAppOrder(),_=new Map([[6,n],[10,o],[5,t],[9,s],[3,e],[8,r],[20,l],[22,a],[4,d],[12,c],[11,u]]);return(0,h.jsx)(i.Fragment,{children:p.map((e=>_.get(e)))})})),F(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,x.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n}=this.props,{invitePath:i,inviteCode:r,title:o,message:s}=await(0,O.yP)(e,t,n,this.props.relayEnvironment),a={};i&&(a.invitePath=i),r&&(a.inviteCode=r),o&&(a.inviteTitle=o),s&&(a.inviteMessage=s),this.setState(a)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:r}=this.props,{invitePath:f,inviteMessage:v,inviteTitle:x}=this.state,{emailShareLink:w,messengerShareLink:j,twitterShareLink:S,whatsappShareLink:A,lineShareLink:P,telegramShareLink:C,viberShareLink:k,smsShareLink:I}=(0,O.tA)({invitePath:f,inviteTitle:x,objectType:t,i18n:this.props.i18n,isDesktop:e}),E=({children:t})=>(0,h.jsx)(T.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e?`${M}px`:"100%",children:t}),L=({children:e})=>(0,h.jsx)(T.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),z=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(g.Z,{id:"fbmessenger-share-icon",children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,h.jsx)(u.Z,{size:R})})})}),(0,h.jsx)(D,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),F=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(g.Z,{id:"whatsapp-share-icon",children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,h.jsx)(y.Z,{size:R})})})}),(0,h.jsx)(D,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),N=(0,h.jsx)(T.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,h.jsx)(a.Z,{size:R})})}),(0,h.jsx)(D,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),B=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(g.Z,{id:"twitter-share-icon",children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:S,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,h.jsx)(m.Z,{size:R})})})}),(0,h.jsx)(D,{text:this.props.i18n._('Twitter', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),Z=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:P,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,h.jsx)(c.Z,{size:R})})}),(0,h.jsx)(D,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),U=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:k,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,h.jsx)(b.Z,{size:R})})}),(0,h.jsx)(D,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),V=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,h.jsx)(_.Z,{size:R})})}),(0,h.jsx)(D,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),H=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(g.Z,{id:"email-share-button",children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,h.jsx)(s.Z,{size:R})})})}),(0,h.jsx)(D,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),$=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const r=v.indexOf("https://");navigator.share&&navigator.share({url:f,text:r>0?v.slice(0,r):v,title:x}).then((()=>{this.handleMessagingAppClick(11),d.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{d.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,h.jsx)(T.xu,{height:R,children:(0,h.jsx)(T.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,h.jsx)(D,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),G=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:r?(0,h.jsx)(l.Z,{size:R}):(0,h.jsx)(o.Z,{size:R})})}),(0,h.jsx)(D,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),W=(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:R,children:(0,h.jsx)(T.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,h.jsx)(D,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,h.jsxs)(T.xu,{children:[(0,h.jsx)(T.xu,{height:4}),(0,h.jsx)(T.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,h.jsxs)(T.xu,{display:"flex",justifyContent:"start",height:e?180:void 0,width:e?370:"100vw",marginBottom:-2,paddingX:1,paddingY:2,overflow:e?void 0:"scrollX",wrap:e,children:[i&&n&&(()=>(0,h.jsxs)(E,{children:[(0,h.jsx)(L,{children:(0,h.jsx)(T.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,h.jsx)(p,{size:R})})}),(0,h.jsx)(D,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:H,Facebook:N,FBMessenger:z,Line:Z,WhatsApp:F,Twitter:B,Viber:U,Telegram:V,CopyLink:W,Sms:G,ShareVia:$})]})}),(0,h.jsx)(T.xu,{height:16})]})}}function B(e){const t=(0,P.ZP)(),n=(0,L.useLocation)(),i=(0,j.HG)(),{showToast:o}=(0,z.F9)(),{country:s,locale:a}=(0,A.B)(),l=(0,v.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),{checkExperiment:c}=(0,w.F)(),d=(0,r.useSelector)((({session:e})=>e.userAgentPlatform)),u="ios"===d||"ipad"===d,p=c("graphql_migration_sharesheet_sgrowth_web").anyEnabled,_=(0,S.useRelayEnvironment)(),g=(0,C.Z)();return(0,h.jsx)(N,{...e,country:s,i18n:t,isDesktop:i,locale:a,showToast:o,onNavigation:l,location:n,logContextEvent:g,isAppleDevice:u,relayEnvironment:p?_:void 0})}},833715:(e,t,n)=>{n.d(t,{Iz:()=>f,Rh:()=>h,pW:()=>d,rL:()=>g,sF:()=>p,tA:()=>u,yP:()=>_});var i,r,o=n(6637),s=n(467570),a=n(867060),l=n(167912);const c={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:r,Facebook:o,Twitter:s,Email:a,Line:l,Telegram:d,Viber:u,Sms:h,CopyLink:p,ShareVia:_}=c;function g(){switch(e){case"US":return t?[r,o,s,a]:[h,i,r,o,s];case"ID":return t?[r,l,a,o]:[r,d,h,l,a,o];case"JP":case"TH":case"TW":return t?[l,s,a,o]:[l,a,h,s,o];case"GR":return t?[r,o,s,a]:[u,i,r,h,o,s];case"IR":case"IQ":return t?[r,o,s,a]:[r,d,h,i,s];case"UA":case"RU":return t?[r,o,s,a]:[r,u,d,o,i,h,s];default:return t?[r,o,s,a]:[r,i,h,o,s]}}return t?[p,...g()]:[...g(),p,...n?[_]:[]]}function u({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:r}){let o=i._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===n&&(o=i._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const a=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${s.GH}`,c=`${t}\n${e}`,d=r?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(c)}`:`twitter://post?message=${encodeURIComponent(c)}`,u=r?`https://web.whatsapp.com/send?text=${encodeURIComponent(c)}`:`whatsapp://send?text=${encodeURIComponent(c)}`,h=r?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(c)}`,p=`viber://forward?text=${encodeURIComponent(c)}`;return{emailShareLink:a,messengerShareLink:l,twitterShareLink:d,whatsappShareLink:u,lineShareLink:h,telegramShareLink:`tg://msg?text=${encodeURIComponent(c)}`,viberShareLink:p,smsShareLink:`sms:?&body=${encodeURIComponent(c)}`}}function h(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function p(e,t,n,i){if(!n||!t)return;const r=new t(n,{text:()=>e});r.on("success",(e=>{i&&i(e)})),r.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))}async function _(e,t,r,s){if(s)return((e,t,r,o,s)=>{const a=void 0!==i?i:i=n(865107),c={invite_category:t,invite_object:r,invite_channel:o};return(0,l.fetchQuery)(e,a,{inviteType:JSON.stringify(c),objectId:s}).toPromise().then((e=>{var t;return Promise.resolve((e=>{var t,n,i,r;return{inviteCode:null!==(t=null==e?void 0:e.inviteCode)&&void 0!==t?t:"",invitePath:null!==(n=null==e?void 0:e.inviteUrl)&&void 0!==n?n:"",title:null!==(i=null==e?void 0:e.title)&&void 0!==i?i:"",message:null!==(r=null==e?void 0:e.message)&&void 0!==r?r:""}})(null==e||null===(t=e.v3InviteUserExternalQuery)||void 0===t?void 0:t.data))}),(e=>Promise.reject(e)))})(s,3,r,e.toString(),t);{const n=o.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:3,invite_object:r,invite_channel:e},object_id:t}),i=await n.callCreate(),{invite_url:s,invite_code:a,title:l,message:c}=i.resource_response.data;return{inviteCode:a,invitePath:s,title:l,message:c}}}const g=(e,t,i,o,s,a)=>{const c=void 0!==r?r:r=n(361600),d={inviteType:JSON.stringify({invite_category:t,invite_object:i,invite_channel:o}),inviteCode:s,objectId:a};(0,l.commitMutation)(e,{mutation:c,variables:{...d}})};async function f({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:r,clientTrackingParams:s,logContextEvent:l,view_parameter:c,view_type:d},u){l({aux_data:{invite_object:i},object_id_str:n,component:r,clientTrackingParams:s,element:a.c[e],event_type:102,view_type:d,view_parameter:c}),u?g(u,3,i,e,t||"0",n):o.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n}).callCreate()}},203345:(e,t,n)=>{n.r(t),n.d(t,{default:()=>G});var i=n(667294),r=n(209236),o=n(702664),s=n(766935),a=n(940519),l=n(936776),c=n(172071),d=n(6637),u=n(700380),h=n(784590),p=n(19121),_=n(479739),g=n(773285),f=n(281180),m=n(25719),v=n(116303),b=n(499128),y=n(982359),x=n(898781),w=n(728214),j=n(349700),S=n(883119),A=n(276775),P=n(343341),C=n(785893);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O extends i.PureComponent{constructor(...e){super(...e),k(this,"state",{viewConversation:!1,isSent:!1,path:""}),k(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,C.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,C.jsx)(S.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._('View chat', 'View current chat', 'View current chat'),color:"white",onClick:()=>{this.onViewConversation()}}),(0,C.jsx)(S.JO,{icon:"arrow-forward",color:"default",accessibilityLabel:this.props.i18n._('View chat', 'View current chat', 'View current chat')})]}):(0,C.jsxs)(S.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,C.jsx)(S.xu,{marginEnd:2,children:(0,C.jsx)(S.JO,{icon:"check",color:"default",accessibilityLabel:this.props.i18n._('sent', 'content is sent', 'content is sent')})}),(0,C.jsx)(S.xu,{marginEnd:2,children:(0,C.jsx)(S.xv,{size:"300",color:"subtle",weight:"bold",children:this.props.i18n._('Sent', 'mweb.sharemenu.contactItem.isSent', 'Text notification indicating a Pin has been sent to a pinner')})})]})})),k(this,"onViewConversation",(()=>{const{path:e}=this.state;c.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),k(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:()=>{const e={1:"pin",2:"board",3:"user",8:"today_article"},{addConversation:t,i18n:n,isFullHeight:i,onDismiss:r,setShareSent:o,recipient:s,sendObject:a,showToast:l,email:d,updateCachedContactsAfterSend:u}=this.props,h=e[a.objectType];this.setState({isSent:!0}),t({user_ids:s?[s.id,this.props.userId]:void 0,[h]:a.objectId,emails:d?[d]:void 0}).then((e=>{this.setState({path:`/conversation/${e}`,viewConversation:!0}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!0}),o(!0),null==u||u(),!i&&r&&(l((({hideToast:e})=>(0,C.jsx)(b.ZP,{dataTestId:"sharesheet-inline-send-toast",button:(0,C.jsx)(S.zx,{onClick:this.onViewConversation,text:n._('View', 'ContactItem.ConfirmationToast.buttonText', 'Button on confirmation toast after a user sends a Pin/Board/Profile to view the conversation')}),duration:4e3,onHide:e,text:(0,j.Wc)(n._('Sent to {{recipientName}}!', 'ContactItem.ConfirmationToast.text', 'Confirmation toast after a user sends a Pin/Board/Profile'),{recipientName:(null==s?void 0:s.full_name)||""}),iconThumbnail:(0,C.jsx)(v.Z,{size:"fit",src:(null==s?void 0:s.image_large_url)||"",name:(null==s?void 0:s.full_name)||""}),thumbnailShape:"circle"}))),r(e))})).catch((e=>{l((({hideToast:t})=>(0,C.jsx)(b.ZP,{variant:"error",text:(null==e?void 0:e.message_detail)||(null==e?void 0:e.message)||n._('Failed to create conversation.', 'ContactItem.errorToast.text', 'Error during message send from the share sheet'),onHide:t}))),this.setState({isSent:!1}),c.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:e})}))}}))}render(){var e,t,n,i;const{isFullHeight:r,recipient:o,email:s}=this.props,{isSent:a}=this.state;return!r&&o?(0,C.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,C.jsx)(S.iP,{onTap:()=>this.onInlineSend(),children:(0,C.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,C.jsx)(v.Z,{size:"fit",src:null!==(e=o.image_large_url)&&void 0!==e?e:"",name:null!==(t=o.full_name)&&void 0!==t?t:""})})}),(0,C.jsx)(S.xu,{width:56,children:(0,C.jsx)(S.xv,{lineClamp:1,size:"100",align:"center",children:o.full_name})})]}):(0,C.jsxs)(S.xu,{"data-test-id":"sharesheet-send-button",position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[o?(0,C.jsx)(S.xu,{children:(0,C.jsx)(v.Z,{size:"md",src:null!==(n=o.image_large_url)&&void 0!==n?n:"",name:null!==(i=o.full_name)&&void 0!==i?i:""})}):s&&(0,C.jsx)(S.xu,{children:(0,C.jsx)(v.Z,{size:"md",name:s})}),(0,C.jsx)(S.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,C.jsx)(S.xv,{lineClamp:1,weight:"bold",children:o?o.full_name:s&&a?s:(0,j.nk)(this.props.i18n._('invite {{email}}', 'mweb.newMessage.searchEmail', 'invite from email'),{email:s})})}),(0,C.jsx)(S.xu,{"data-test-id":"sharesheet-viewchat-link",right:!0,flex:"none",maxWidth:"100%",children:a?this.renderViewConversationButton():(0,C.jsx)(S.zx,{fullWidth:!0,size:"lg",color:"gray",text:this.props.i18n._('Send', 'Send current content', 'Send current content'),onClick:()=>{this.onInlineSend()}})})]})}}function I(e){const t=(0,A.useHistory)(),n=(0,x.ZP)(),i=(0,w.Z)(),{showToast:r}=(0,P.F9)(),s=(0,o.useDispatch)();return(0,h.Z)({name:"ConversationsResource",options:{user_ids:[e.userId]}}),(0,C.jsx)(O,{...e,addConversation:e=>s((0,y.Xw)(e)),history:t,i18n:n,requireAuthForLimitedLogin:i,showToast:r})}var T=n(112690),E=n(379725);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class F extends i.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,i=t&&!this.props.fetching,r=this.getContactSuggestions();if(!n&&i){const e=r.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),L(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),L(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,i={options:{user:t,term:e}};this.setState({value:e},n(i))})),L(this,"getContactSuggestions",(()=>{const{typeaheadSuggestions:e,userId:t,users:n}=this.props,{value:i,defaultSuggestions:r}=this.state;if(!i)return r.filter((e=>n[e.id]))||[];const o=`share-suggestions:${t}:${i}`,s=`share-suggestions:${t}:${i.slice(0,-1)}`;return e[o]||e[s]||[]})),L(this,"renderContactSuggestions",(()=>{const{expandContactsList:e,fetching:t,i18n:n,isFullHeight:i,onDismiss:r,sendObject:o,setShareSent:s,userId:a,users:c,updateCachedContactsAfterSend:d}=this.props,{loadingDefaultSuggestions:u,value:h}=this.state,p=this.getContactSuggestions(),_=t||u;let g;return g=!i&&_?107:"100%",_?(0,C.jsx)(S.xu,{alignItems:"center",display:"flex",justifyContent:"center",height:g,paddingY:2,children:(0,C.jsx)(S.$j,{show:!0,accessibilityLabel:n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu')})}):0===p.length&&!(0,l.Z)(h)&&h&&i?(0,C.jsx)(S.xu,{marginTop:3,children:(0,C.jsx)(S.xv,{align:"center",children:n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,C.jsx)(S.kC,{direction:i?"column":"row",overflow:i?void 0:"hidden",children:(0,C.jsxs)(S.xu,{display:i?void 0:"flex",height:g,overflow:i?void 0:"scrollX",marginBottom:0,marginTop:0,paddingX:i?4:1,paddingY:0,children:[0===p.length&&(0,l.Z)(h)&&(0,C.jsx)(I,{email:h,isFullHeight:i,sendObject:o,setShareSent:s,userId:a}),!i&&(0,C.jsxs)(S.xu,{alignItems:"center",display:"flex",direction:"column",paddingX:3,paddingY:4,children:[(0,C.jsx)(S.xu,{height:56,marginBottom:1,width:56,children:(0,C.jsx)(S.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:e,size:"xl"})}),(0,C.jsx)(S.xv,{lineClamp:1,size:"100",children:n._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),p.map((e=>{var t;return(0,C.jsx)(I,{isFullHeight:i,onDismiss:r,recipient:c[null!==(t=e.id)&&void 0!==t?t:""],sendObject:o,setShareSent:s,userId:a,updateCachedContactsAfterSend:d},e.id)}))]})})})),this.scrollerRef=(0,i.createRef)()}async componentDidMount(){const{inContactsCacheExp:e,cachedShareSuggestions:t,getFreshContactSuggestions:n,updateCachedShareSuggestions:i}=this.props;if(e)if(t)this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:t});else{const e=await n()||[];i(e),this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}else{const e=await n()||[];this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:e})}}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,r=(0,u.Z)((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,C.jsx)(i.Fragment,{children:t?(0,C.jsxs)(S.xu,{color:"default",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,C.jsx)(S.xu,{"data-test-id":"contact-suggestion-search-field",paddingY:2,color:"default",paddingX:4,dangerouslySetInlineStyle:{__style:e?z:null},children:(0,C.jsx)(a.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value,autoFocus:t})}),(0,C.jsx)(S.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:r,ref:this.scrollerRef,children:this.renderContactSuggestions()})]}):(0,C.jsx)(S.xu,{children:this.renderContactSuggestions()})})}}function R(e){const t=(0,x.ZP)(),n=(0,f.kW)(),i=(0,T.Z)(),{id:r}=(0,p.Z)(),a=(0,o.useDispatch)();(0,h.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:r}});const l=(0,o.useSelector)((t=>(0,_.oF)(t,e))),u=(0,o.useSelector)((e=>e.resources.ShareSuggestionsTypeaheadResource)),v=Object.keys(u||{}).some((e=>u[e].fetching)),{cachedShareSuggestions:b,clearCachedShareSuggestions:y,updateCachedShareSuggestions:w}=(0,m.$)(),j=async()=>{let e;const t=d.Z.create("ShareSuggestionsResource",{suggestion_type:"share"});try{var n;e=null===(n=(await t.callGet()).resource_response)||void 0===n?void 0:n.data}catch(i){c.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}return e},{checkExperiment:S}=(0,g.F)(),A=S("mweb_cache_contacts_share").anyEnabled;return(0,C.jsx)(F,{...e,i18n:t,logContextEvent:i,users:n,searchContacts:e=>{(0,s.Z)(a((0,E.U2)("ShareSuggestionsTypeaheadResource",e)),200)},fetching:v,userId:r||"",typeaheadSuggestions:l,inContactsCacheExp:A,cachedShareSuggestions:b,getFreshContactSuggestions:j,updateCachedContactsAfterSend:async()=>{if(A){y();const e=await j();e&&w(e)}},updateCachedShareSuggestions:w})}var M=n(141280),D=n(121151),N=n(667679),B=n(539497),Z=n(53987),U=n(50286);const V=14121,H=({heading:e,onDismiss:t})=>{const n=(0,x.ZP)();return(0,C.jsxs)(S.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,C.jsx)(S.xu,{display:"flex",alignItems:"center",padding:1,children:(0,C.jsx)(S.hU,{accessibilityLabel:n._('Close', 'close share menu', 'close share menu'),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,C.jsx)(S.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,C.jsx)(S.xv,{align:"center",weight:"bold",children:(0,C.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},$=({children:e,isOpen:t,onDismiss:n,childPaddingX:i=3,shouldRenderCloseIcon:r,shouldRenderFullHeight:o,heading:s})=>{const a=(0,x.ZP)(),l={mobileAccessibilityCloseIconLabel:a._('close send modal', ' - ', ' -- '),accessibilityModalLabel:"",heading:s,mobileHideCloseIcon:!r,isOpen:t,onDismiss:n,type:"share_menu"};return o?(0,C.jsxs)(M.Z,{isOpen:t,accessibilityModalLabel:s,children:[(0,C.jsx)(H,{heading:s,onDismiss:n}),e]}):(0,C.jsx)(D.ZP,{...l,children:(0,C.jsx)(S.xu,{marginTop:r?0:4,paddingX:i,children:e})})},G=({isOpen:e,onDismiss:t,objectType:n,objectId:o,hideContactsSuggestions:s,clientTrackingParams:a,element:l,viewType:d,viewParameter:u})=>{const h=(0,x.ZP)(),[_,f]=(0,i.useState)(!1),[m,v]=(0,i.useState)(!1),b=_||!s,y=(0,A.useLocation)(),w=(0,U.HG)(),{isAuth:j}=(0,p.Z)(),{checkExperiment:P}=(0,g.F)(),k=(0,N.Z)(),O=(0,T.Z)(),I=e=>{P("mweb_share_menu_logging").anyEnabled&&O({clientTrackingParams:a,component:V,event_type:m||e?7493:7492,element:13097,view_type:70,view_parameter:u,aux_data:{invite_object:n}});const i=(e=>(0,Z.cD)(e)?"profile_page":(0,Z.am)(e)?"board_page":(0,Z.uM)(e)?"pin_page":"unknown")(y),r=!w&&!j&&P("unauth_mweb_after_invite_signup_modal").anyEnabled;(0,B.LW)({action:"click",pageLocation:y,item:"close-share-menu"}),t(),r&&m&&k({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`tap.unauth_${i}_share_menu.click_invite`}),v(!1),(0,B.My)(`mweb_${i}_share_menu.click_invite.close`)},E=P("mweb_share_menu_logging").anyEnabled;(0,i.useEffect)((()=>{e&&O({event_type:7120,component:V,object_id_str:o,clientTrackingParams:E?a:null,element:E?l:null,view_type:E?d:70,view_parameter:E?u:256,aux_data:E?{invite_object:n}:void 0})}),[e,P,E]);const L=(0,U.Wb)(),z=h._('Send on Pinterest', 'Heading for share contacts search', 'Heading for share contacts search'),F=h._('Share', 'ShareMenu.AllShareOptions.HeaderText', 'Header for social share options section of the share menu'),M=_?z:(0,C.jsx)(S.xu,{marginTop:0,children:(0,C.jsx)(S.xv,{align:"center",weight:"bold",size:"300",children:b?z:F})});return(0,C.jsx)($,{isOpen:e,onDismiss:_?()=>{f(!1),c.Z.increment("mweb_sharesheet.contacts.collapse",1)}:()=>I(),shouldRenderFullHeight:_,shouldRenderCloseIcon:!0,childPaddingX:0,heading:M,children:(0,C.jsxs)(S.xu,{marginBottom:8,marginTop:_||!b?0:-4,maxWidth:L?440:"100%",children:[b&&(0,C.jsx)(R,{sendObject:{objectId:o,objectType:n},expandContactsList:()=>{f(!0),c.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:_,onDismiss:I,setShareSent:e=>v(e)}),!_&&(0,C.jsxs)(i.Fragment,{children:[b&&(0,C.jsxs)(S.xu,{marginTop:4,paddingX:4,children:[(0,C.jsx)(S.iz,{}),(0,C.jsx)(S.xu,{marginTop:8,children:(0,C.jsx)(S.xv,{align:"center",size:"300",weight:"bold",children:F})})]}),(0,C.jsx)(r.Z,{objectId:o,objectType:n,viewType:E?d:70,viewParameter:u,onDismiss:I,setShareSent:e=>v(e),clientTrackingParams:a,component:V})]})]})})}},25719:(e,t,n)=>{n.d(t,{$:()=>a,l:()=>l});var i=n(667294),r=n(425288),o=n(785893);const{Provider:s,useHook:a}=(0,r.Z)("ShareSuggestions");function l({children:e}){const[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)((()=>{n(void 0)}),[]),a=(0,i.useCallback)((e=>{n(e)}),[]),l=(0,i.useMemo)((()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:r,updateCachedShareSuggestions:a})),[t,r,a]);return(0,o.jsx)(s,{value:l,children:e})}},391968:(e,t,n)=>{n.d(t,{B:()=>o,Cq:()=>r,F6:()=>u,RV:()=>i,VZ:()=>s,W_:()=>l,bm:()=>a,iS:()=>h,rO:()=>d,zn:()=>c});const i="animatedShareIconLastViewed",r="lastUsedSocialShare",o="customizedSocialAppOrder",s=44,a=9e5,l=4e3,c=5e3,d=new Set([12,3,11]),u=new Set([11,12]),h=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},940519:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(883119),o=n(785893);class s extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e&&(this.searchRef=e)},(n="setSearchRef")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:s,placeholder:a,value:l}=this.props;return(0,o.jsx)(r.Um,{accessibilityLabel:e,id:t,onBlur:n,onChange:i,onFocus:s,placeholder:a,ref:this.setSearchRef,size:"lg",value:l})}}},693099:(e,t,n)=>{n.d(t,{AA:()=>o,E9:()=>p,EU:()=>f,IO:()=>g,KH:()=>d,QR:()=>c,Uw:()=>r,ZR:()=>m,dy:()=>l,eA:()=>h,k7:()=>s,rT:()=>_,tz:()=>u,u9:()=>v,zR:()=>a,zu:()=>i});const i="OPEN_UNAUTH",r="openUnauthType",o="_isAfterLogin",s="_lastVisitedPages",a="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",h=20,p="unauthTopicsFollowed",_=["US","CA","NZ","AU"],g=new Set(["GB","IE"]),f=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),m=new Set(["BR","MX","AR","CL","CO","PE"]),v="ad_img"},81759:(e,t,n)=>{n.d(t,{CC:()=>m,Ff:()=>P,H$:()=>b,Mt:()=>f,Yi:()=>w,Yy:()=>S,Z4:()=>g,dc:()=>x,dp:()=>v,i$:()=>p,p9:()=>y,t_:()=>h,vV:()=>_});var i=n(231486),r=n(6637),o=n(826067),s=n(400660),a=n(226198),l=n(539497),c=n(622096),d=n(957161),u=n(693099);const h=()=>(0,d.qn)(u.tz,""),p=()=>{const e=h();let t;try{t=JSON.parse(e)}catch(n){t=[]}return t},_=()=>(0,d.L_)(u.tz),g=(e,t)=>{const n=p(),i=n.length,r=i?n[0].path:"";if(i<u.eA&&(!i||e!==r)){const i={path:e,pageType:t,ts:Date.now()};(0,d.Nh)(u.tz,JSON.stringify([i].concat(n)))}},f=(e,t,n,i,r,o,s=u.k7)=>{const a=(0,d.qn)(s)?JSON.parse((0,d.qn)(s)):[];if(!a[0]||a[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:i||"",pin_description:r||"",is_shared:!!o,pin_invite_code:o}];(0,d.Nh)(s,JSON.stringify(l.concat(a)))}},m=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:r})=>{const o=(()=>{const e=(0,c.qn)(u.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!o[0]||o[0].path!==e){const s=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:r||""}];(0,c.Nh)(u.KH,JSON.stringify(s.concat(o)))}};function v(e,t,n,i,r,o){f(e,t,n,i,r,o,u.zR)}const b=(e,t)=>{var n,i;f(e,t.image_signature,t.id,null===(n=t.images)||void 0===n?void 0:n["236x"],null!==(i=t.description)&&void 0!==i?i:"","",u.dy)};function y(e,t,n,i,r){f(e,t,n,i,r,"",u.QR)}function x(){return p().filter((e=>"closeup"===e.pageType)).length}function w(){const e=r.Z.create("UnauthUserDataResource");return new Promise(((t,n)=>{e.callGet().then((e=>{const r=e.resource_response.data,o=!!i.U2(a.x3);return r?((0,s.Wn)(r.medium_image_url)&&(r.medium_image_url=""),(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_"+(o?"true":"false")),t(r)):((0,l.My)("mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_"+(o?"true":"false")),n({}))})).catch((e=>{if(e&&e.message){const t=e.message.replace(/\s/g,"_").toLowerCase();(0,l.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,l.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)}))}))}function j({i18n:e,location:t}){const n=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!n&&!i)return{showPLPBanner:!1,pinForBanner:null};let r;try{r=JSON.parse((0,c.qn)(u.KH))}catch(o){r=[]}if(r&&r.length>0){const t=r[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:Boolean(t.image),pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}const S=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function A({i18n:e,location:t}){var n;const i=(null===(n=t.state)||void 0===n?void 0:n.next)||S(t);if(i){const t=i.indexOf("?"),n=(0,o.mB)(i.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,o.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function P({i18n:e,location:t}){return A({i18n:e,location:t}).showPLPBanner?A({i18n:e,location:t}):j({i18n:e,location:t}).showPLPBanner?j({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},400660:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>s,V0:()=>i,Wn:()=>o,xT:()=>r});const r=e=>!!e&&2===e.login_state,o=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function s(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},982359:(e,t,n)=>{n.d(t,{Ae:()=>c,At:()=>l,Ej:()=>u,Xw:()=>a,ce:()=>d,pu:()=>h});var i=n(583228),r=n(782677),o=n(379725),s=n(983360);const a=e=>t=>{const n=i.Fx;return t((0,o.v_)("ConversationsResource",{options:e},(e=>n?(0,r.Fv)(e,n):null))).then((e=>{if(!e.resource_response)return Promise.reject(e);return e.resource_response.data.id}))},l=e=>({type:s.MA,payload:{id:e}}),c=e=>({type:s.ST,payload:{id:e}}),d=(e,t)=>({type:s.Uf,payload:{conversationId:e,message:t}}),u=(e,t,n)=>({type:s.C2,payload:{conversationId:e,tempMessage:t,newMessage:n}}),h=(e,t)=>({type:s.R8,payload:{conversationId:e,messageId:t}})},479739:(e,t,n)=>{n.d(t,{CQ:()=>l,Cj:()=>_,Il:()=>g,In:()=>A,Is:()=>m,JF:()=>j,NZ:()=>h,PN:()=>v,R_:()=>d,T_:()=>x,Ud:()=>p,ZX:()=>C,gI:()=>u,i3:()=>b,ik:()=>P,kT:()=>y,oF:()=>c,ts:()=>a,ut:()=>S});var i=n(442279);const r=e=>e.boards,o=e=>e.invites,s=e=>e.users,a=e=>e.users[e.session.userId]||null,l=e=>(e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)])(e),c=(0,i.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((t,n)=>({...t,[n]:e[n]})),{}))),d=(0,i.P1)(o,(e=>Object.keys(e).reduce(((t,n)=>{const i=n.split(":")[0],r=t[i]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[n]&&"not_invited"!==e[n].status&&("pending_approval"===e[n].status?r.pendingOwnerAction.push(n):r.notPendingOwnerAction.push(n),t[i]=r),t}),{}))),u=(0,i.P1)(o,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[n]=i,t}),{}))),h=(0,i.P1)(a,o,((e,t)=>Object.keys(t).reduce(((n,i)=>{const r=i.split(":"),o=r[0],s=r[1],a=e.id===s,l=t[i]&&["new","contact_request_not_approved"].includes(t[i].status);return a&&l&&(n[o]=i),n}),{}))),p=(0,i.P1)(s,o,((e,t)=>Object.keys(t).reduce(((n,i)=>{const r=t[i]||{};return n[i]=e[r.invited_by_user],n}),{}))),_=(0,i.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.slug]=i,t[n]=i,t}),{}))),g=(0,i.P1)(s,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.username]=i,t}),{}))),f=(0,i.P1)(a,r,((e,t)=>Object.keys(t).reduce(((n,i)=>{var r;const o=t[i];return!o.archived_by_me_at&&((null===(r=o.owner)||void 0===r?void 0:r.id)===e.id||o.collaborating_users&&o.collaborating_users.map((({id:e})=>e)).includes(e.id))&&o.cover_images?n.concat([o]):n}),[]))),m=(0,i.P1)(f,(e=>e.sort(((e,t)=>e.name.localeCompare(t.name))))),v=(0,i.P1)(((e,t)=>e.users[t.user_id]||null),r,((e,t)=>Object.keys(t).reduce(((n,i)=>{var r;const o=t[i];return!o.archived_by_me_at&&e&&((null===(r=o.owner)||void 0===r?void 0:r.id)===e.id||o.collaborating_users&&o.collaborating_users.map((({id:e})=>e)).includes(e.id))&&n.push(o),n}),[]))),b=(0,i.P1)(r,(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[i.url]=i,i.oldSlugUrl&&(t[i.oldSlugUrl]=i),t}),{}))),y=(0,i.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((t,n)=>{const i=e[n];return t[`${i.board}_${i.slug}`]=i,t}),{}))),x=l((({boardId:e})=>`board-sections:${e}`)),w=l((({pinId:e})=>`call-to-create-pins:${e}`)),j=(0,i.P1)((e=>e.pins),w,((e=[],t=[])=>t.map((t=>e[t.id])))),S=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),A=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,P=({pins:e},{pinId:t})=>{const n=e[t];return{callToCreateResponseCount:n.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:n.call_to_create_responses_preview_image_urls,callToCreateSourcePin:n.call_to_create_source_pin,callToCreateSourcePinId:n.call_to_create_source_pin_id,isCallToCreate:n.is_call_to_create}},C=(0,i.P1)([(e,t,n)=>{var i,r,o;switch(n){case"pin":return null===(i=e.pins)||void 0===i?void 0:i[t];case"board":return null===(r=e.boards)||void 0===r?void 0:r[t];case"user":return null===(o=e.users)||void 0===o?void 0:o[t];default:return""}},({session:e})=>e.seoDebug],((e,t)=>{if(t){var n,i,r,o,s;return{noIndexReason:null==e||null===(n=e.page_metadata)||void 0===n?void 0:n.noindex_reason,canonicalId:null==e||null===(i=e.pin_join)||void 0===i||null===(r=i.canonical_pin)||void 0===r?void 0:r.id,canonicalDomain:null==e||null===(o=e.page_metadata)||void 0===o?void 0:o.canonical_domain,canonicalUrl:null==e||null===(s=e.page_metadata)||void 0===s?void 0:s.canonical_url}}return null}))},512176:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(898781),o=n(112690),s=n(967181),a=n(883119),l=n(785893);const c={sm:12,md:16,lg:20,xl:24};function d({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:d,inspirationalBadges:u,inspirationalBadgesColor:h}){const p=(0,r.ZP)(),[_,g]=(0,i.useState)(!1),{dangerousInlineStyle:f,iconColor:m}=(0,s.W)(!!e),v=(0,o.Z)();return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(a.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:f,display:"flex","data-test-id":"verified-badge-icon",children:[(0,l.jsx)(a.JO,{accessibilityLabel:e?p._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):p._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:m,inline:!0,size:c[t]}),n&&!d&&(0,l.jsx)(a.xu,{marginStart:2,children:(0,l.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:f,children:p._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!d)&&(0,l.jsx)(s.Z,{showModal:_,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:h})]})}},967181:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>h});var i=n(667294),r=n(121151),o=n(966113),s=n(898781),a=n(112690),l=n(752403),c=n(883119),d=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function h({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:h}){const p=(0,s.ZP)(),[_,g]=(0,i.useState)(!0),{dangerousInlineStyle:f,iconColor:m}=u(!0),v=(0,a.Z)();return(0,i.useEffect)((()=>{n&&_&&(g(!1),v({event_type:13,component:13534}))}),[n]),(0,d.jsx)(r.ZP,{"data-test-id":"modal",isOpen:n,mobileAccessibilityCloseIconLabel:p._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),h(!1)},type:"verified_merchant_modal",children:(0,d.jsx)(c.xu,{padding:3,children:(0,d.jsxs)(c.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,d.jsx)(c.xu,{display:"flex",dangerouslySetInlineStyle:f,justifyContent:"center",children:(0,d.jsx)(c.JO,{accessibilityLabel:p._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:m,icon:"workflow-status-ok",size:24})}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"shopping",weight:"bold",align:"center",children:(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:f,children:p._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,d.jsx)(c.xu,{marginTop:4,marginBottom:4,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:p._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,d.jsxs)(c.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"center",children:(0,d.jsx)(c.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,d.jsx)(c.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,d.jsx)(c.xu,{marginTop:2,children:(0,d.jsx)(c.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,d.jsx)(c.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,d.jsx)(c.zx,{role:"link",accessibilityLabel:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,text:p._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},366284:(e,t,n)=>{n.d(t,{G6:()=>o,i7:()=>s,oi:()=>i,u$:()=>r,un:()=>l,vU:()=>a});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>{switch(!0){case e.includes("Chrome"):return i.CHROME;case e.includes("Safari"):return i.SAFARI;case e.includes("Firefox"):return i.FIREFOX;case e.includes("Opera"):return i.OPERA;case e.includes("IE"):return i.IE;case e.includes("Edge"):return i.EDGE;default:return i.OTHER}};function o(e){return r(e)===i.SAFARI}function s(e){return r(e)===i.CHROME}function a(e){return r(e)===i.FIREFOX}function l(e){return r(e)===i.EDGE}},752403:(e,t,n)=>{n.d(t,{Bu:()=>v,Dm:()=>a,Fp:()=>_,I:()=>x,NG:()=>f,QP:()=>u,S4:()=>c,Xe:()=>h,_f:()=>m,eT:()=>b,hm:()=>y,k$:()=>p,lz:()=>g,st:()=>d,yQ:()=>l,ym:()=>j});var i=n(642345);const r=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),o=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),s=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),a=[...Object.keys(r).map((e=>r[e])),...Object.keys(o).map((e=>o[e]))],l=[...Object.keys(s).map((e=>s[e]))],c=3,d=1,u=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],h={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:u[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="storefront_inspirational_badges_web",_="storefront_inspirational_badges_colors",g="merchant_storefront_api_profile_badges",f="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function v({areBadgesEnabled:e,verifiedMerchant:t}){var n,i;const r=null==t?void 0:t.isVerifiedMerchant,o=null==t||null===(n=t.inspirational_signal)||void 0===n?void 0:n.is_inspirational,s=null==t||null===(i=t.inspirational_signal)||void 0===i?void 0:i.is_eligible_for_storefront_badges;return Boolean(e&&r&&o&&s)}function b(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function y(e){return e.profile_badges||[]}function x(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function w(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,r,o]=t;return(0,i.DW)(n,r,o)<=i.I?"white":"black"}function j(e){const t=e||u[0];return{backgroundColor:t,color:w(t)}}},642345:(e,t,n)=>{n.d(t,{DW:()=>a,I:()=>s,oo:()=>o,vq:()=>r});const i=e=>{const t=e.toString(16);return 1===t.length?"0"+t:t},r=(e,t,n)=>"#"+i(e)+i(t)+i(n),o=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},s=.18,a=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2},722767:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(973935);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends i.Component{constructor(...e){super(...e),o(this,"observer",null),o(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=r.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const a=s},378518:(e,t,n)=>{n.d(t,{_:()=>c,a:()=>d});var i=n(667294),r=n(702664),o=n(618446),s=n.n(o),a=n(780280),l=n(332611);const c=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const o=(0,i.useRef)(),c=(0,r.useDispatch)(),{isBot:d}=(0,a.B)(),u=(0,r.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{c((0,l.kd)(t))}),[c,u,t]),(0,i.useEffect)((()=>{n||s()(o.current,e)||(c((0,l.pz)([t],d,e)),o.current=e)}),[c,e,d,t,n]),u},d=e=>(c(e),(0,r.useSelector)((t=>t.experiencesMulti[e.id])))},713930:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(172071);function r(e,t){return new Promise(((n,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}}))}},567450:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>s});const r=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},o=e=>{if(e.isHidden){const{reason:t}=e;r.onPauseListeners.forEach((e=>e(t)))}else r.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>o({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>o({isHidden:!1}))),window.addEventListener("blur",(()=>o({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>o({isHidden:!1}))),window.addEventListener("pagehide",(()=>o({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>o(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>o(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const s=r},623568:(e,t,n)=>{n.d(t,{Js:()=>a,NK:()=>v,Nc:()=>b,VX:()=>l,Zt:()=>f,_J:()=>u,_Q:()=>s,_S:()=>y,cL:()=>_,dZ:()=>j,hb:()=>m,hy:()=>d,iR:()=>o,jL:()=>c,o:()=>x,oN:()=>i,pU:()=>w,rM:()=>g,sV:()=>h,sY:()=>p});const i=5e3,r=["Uploaded by user"],o=e=>!!e&&!!e.video_list,s=e=>!!e.promoted_is_lead_ad,a=(e,t)=>{let n=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(n=t.full_name),n},l=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},c=e=>!!e.promoter&&!e.is_downstream_promotion,d=e=>!!e,u=e=>!!e.video_status&&5!==e.video_status,h=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,_=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!p(n)&&!(e=>"pinstory"===e)(t),g=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,f=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",m=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",v=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function b(e){var t,n;return!o(e.videos)&&!d(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(n=t.creator_analytics)||void 0===n?void 0:n["30d_realtime"])||{}).length}function y(e){for(const t of r)if(e===t)return!1;return!0}function x(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function w(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function j(e){var t,n;return!(null===(t=e.creator_analytics)||void 0===t||null===(n=t["30d_realtime"])||void 0===n||!n.is_realtime)}},467570:(e,t,n)=>{n.d(t,{$:()=>l,GH:()=>s,JF:()=>_,Jb:()=>u,a7:()=>p,sl:()=>c,uP:()=>g,we:()=>d});var i=n(935879),r=n(713930),o=n(539497);const s="274266067164",a=["picture.type(large)","id","first_name","last_name","email","gender","birthday"],l=["public_profile","email","user_birthday","user_friends"],c=e=>{e&&(0,o.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,o.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e&&(0,o.dy)({event:"global_object_not_found",provider:"facebook"})},d=(e,t)=>{t&&(0,o.dy)({event:"load_script_start",provider:"facebook"});return(0,r.Z)((0,i.Z)(e),"FACEBOOK").then((()=>c(t)))},u=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),h=({userID:e,accessToken:t,data:{birthday:n,email:i,first_name:r,gender:o,last_name:s,picture:a}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n,email:i,first_name:r,gender:o,image_url:a&&!a.data.is_silhouette?a.data.url:void 0,last_name:s}),p=(e,t)=>new Promise(((n,i)=>{if("connected"!==e.status)return void i({status:e.status||"unknown"});const{userID:r,accessToken:o}=e.authResponse;window.FB.api(`/me?fields=${a.join(",")}`,(e=>{n({creds:{facebook_id:r,facebook_token:o,facebook_autologin:(null==t?void 0:t.autologin)||!1},signupOptions:h({userID:r,accessToken:o,data:e})})}))})),_=()=>new Promise((e=>{window.FB.login(e,{scope:l.join(",")})})).then((e=>p(e))),g=e=>new Promise(((t,n)=>{window.FB.api("/me/permissions",(i=>{const r=i.data;if(r){const n=r.find((t=>t.permission===e&&"granted"===t.status));return t({hasPerm:!!n})}return n(Error("Failed to call facebook to get permission"))}))}))},995228:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(966476),o=n(464228),s=n(785893);function a({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const a=t||null,l=(0,r.Z)(),c=(0,o.P)();return c&&"legacy"!==c?n||l?(0,s.jsx)(i.Suspense,{fallback:a,children:e}):a:(0,s.jsx)(i.Suspense,{fallback:a,children:e})}},947599:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(995228).Z},740990:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},706922:(e,t,n)=>{n.d(t,{Z:()=>o});const i=Object.prototype.hasOwnProperty;function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let s=0;s<n.length;s+=1)if(!i.call(t,n[s])||!r(e[n[s]],t[n[s]]))return!1;return!0}},90771:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{fill:"none",height:e,width:e,viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{fill:"#1a73e8",height:"56",rx:"28",width:"56"}),(0,i.jsx)("path",{d:"m37.086 39.782h-18.454c-2.624 0-4.914-1.983-4.914-4.607v-.028 1.536c0 2.624 2.29 4.913 4.914 4.913h18.454c2.653 0 4.914-2.317 4.914-4.913v-1.536c0 2.624-2.29 4.635-4.914 4.635zm-23.395-13.234v-2.094l-3.434-5.667c-.196-.307-.28-.586-.252-.866v2.401c0 .224.084.447.223.698z",fill:"#185abc"}),(0,i.jsx)("path",{d:"m37.086 17h-25.853c-1.033 0-1.619.893-.92 1.843l3.377 5.863v10.469c0 2.68 1.955 4.914 4.607 4.914h18.761c2.653 0 4.914-2.262 4.914-4.914v-13.233c.028-2.68-2.234-4.942-4.886-4.942z",fill:"#fff"}),(0,i.jsx)("path",{d:"m36.78 24.39h-17.842c-.782 0-1.535-.474-1.535-1.228 0-.753.753-1.228 1.535-1.228h17.84c.782 0 1.536.475 1.536 1.228 0 .754-.754 1.229-1.536 1.229zm0 4.915h-17.842c-.782 0-1.535-.475-1.535-1.229s.753-1.228 1.535-1.228h17.84c.782 0 1.536.474 1.536 1.228s-.754 1.229-1.536 1.229zm-4.942 4.941h-12.928c-.782 0-1.535-.474-1.535-1.228s.753-1.229 1.535-1.229h12.927c.781 0 1.535.475 1.535 1.229s-.754 1.228-1.535 1.228z",fill:"#8ab4f8"})]})}},214680:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},862960:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4401_2673)"}),(0,i.jsx)("path",{d:"M22.452 39.991c-.907 0-.753-.342-1.066-1.206l-2.667-8.779 20.533-12.181",fill:"#C8DAEA"}),(0,i.jsx)("path",{d:"M22.452 39.991c.7 0 1.01-.32 1.4-.7l3.734-3.63-4.657-2.808",fill:"#A9C9DD"}),(0,i.jsx)("path",{d:"m22.928 32.854 11.284 8.336c1.288.71 2.217.343 2.538-1.195l4.593-21.645c.47-1.885-.719-2.74-1.95-2.181l-26.971 10.4c-1.841.738-1.83 1.765-.336 2.223l6.921 2.16 16.024-10.109c.757-.458 1.45-.212.881.294",fill:"url(#paint1_linear_4401_2673)"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"paint0_linear_4401_2673",x1:"37.352",y1:"9.352",x2:"23.352",y2:"42",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#37AEE2"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#1E96C8"})]}),(0,i.jsxs)("linearGradient",{id:"paint1_linear_4401_2673",x1:"31.096",y1:"27.16",x2:"35.466",y2:"37.116",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#EFF7FC"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#fff"})]})]})]})}},89396:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(785893);function r({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},883561:(e,t,n)=>{n.d(t,{ZP:()=>i});function i(e,t=80,n="…",i=false){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||i)r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+n}},494349:(e,t,n)=>{n.d(t,{g:()=>p,I:()=>h});var i=n(667294),r=n(567450),o=n(150361),s=n.n(o);const a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:r,currentTime:o,inVideoGridAutoplayExp:a}=n,{videosAutoplaying:l}=e,{currentlyPlayingOrganicVideoId:c,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}=l,h=s()(d),p=s()(u);return!r&&c&&a?e:(r?h[i]={pinId:i,currentTime:o,paused:!1}:p[i]={pinId:i,currentTime:o,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:r?c:i,promotedVideosAutoplaying:h,organicVideosAutoplaying:p}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:r,currentTime:o}=n,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=a,d=s()(l),u=s()(c);return r?d[i]={...d[i],paused:!0,currentTime:o}:u[i]={...u[i],paused:!0,currentTime:o},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=n(425288),d=n(785893);const{Provider:u,useHook:h}=(0,c.Z)("AppUI");function p({children:e}){const[t,n]=(0,i.useReducer)(l,a),o=(0,i.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),s=(0,i.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),h=(0,i.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),p=(0,i.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),_=(0,i.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),g=(0,i.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),f=(0,i.useMemo)((()=>({pauseAutoplay:o,setCurrentVideo:c,setFooterPlusButtonVisible:h,setIsAutoplay:p,setViewportSize:_,toggleTypeaheadOverlay:g,setAppFocusState:s,appUI:t})),[o,c,h,p,_,g,s,t]);return(0,i.useEffect)((()=>{r.Z.onSessionResume((()=>{s(!0)})).onSessionPause((()=>{s(!1)}))}),[s]),(0,d.jsx)(u,{value:f,children:e})}},464228:(e,t,n)=>{n.d(t,{P:()=>o,Z:()=>s});var i=n(667294);const r=(0,i.createContext)();function o(){return(0,i.useContext)(r)}const s=r},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,n)=>{var i=n(373897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,n)=>{var i=n(386116);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,n)=>{var i=n(238416);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,n)=>{var i=n(163405),r=n(379498),o=n(386116),s=n(742281);e.exports=function(e){return i(e)||r(e)||o(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,n)=>{var i=n(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},204942:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},601413:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(204942);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63786-15c09d55fc91aced.mjs.map