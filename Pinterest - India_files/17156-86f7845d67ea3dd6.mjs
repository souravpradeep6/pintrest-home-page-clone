(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[17156],{182666:e=>{e.exports="https://s.pinimg.com/webapp/btn_base-3772d107.png"},7111:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(898781),i=o(883119),s=o(785893);const a=({isInModal:e})=>{const t=(0,n.ZP)();return(0,s.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,s.jsx)(i.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},638543:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(667294),i=o(711781),s=o(472644),a=o(721809),l=o(898781),r=o(276775),c=o(883119),d=o(785893);function u(){var e;const t=(0,l.ZP)(),[o,i]=(0,n.useState)();return(null===(e=(0,r.useHistory)().location.state)||void 0===e?void 0:e.isAppFactoryOAuth)?null:(0,d.jsxs)(c.xu,{position:"relative",children:[(0,d.jsx)(c.iP,{onTap:()=>i(!0),children:(0,d.jsxs)(c.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:40,rounding:"pill",color:"secondary",children:[(0,d.jsx)(c.xu,{height:24,width:24,marginTop:1,children:(0,d.jsx)(s.Z,{size:20})}),(0,d.jsx)(c.xu,{marginStart:2,children:(0,d.jsx)(c.xv,{weight:"bold",children:t._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),o&&(0,d.jsx)(a.Z,{type:"google",onDismiss:()=>i(!1)})]})}var _=o(83969),h=o(773285),g=o(524172),p=o(539497);function b({onGoogleConnectSuccess:e}){const t=(0,n.useRef)(null),o=(0,g.M)(),s=(0,n.useRef)(e);return(0,n.useEffect)((()=>{s.current=e}),[e]),(0,n.useEffect)((()=>{const e=({credential:e,select_by:t})=>{(0,p.My)(`unauth_mweb.gsi_button.select_by.${t}`),(0,p.NC)("press_google_connect_button");const o=(0,i.Z)(e);s.current({google_open_id_token:e,autologin:!1},{type:"google",google_open_id_token:e,first_name:o.given_name,last_name:o.family_name,image_url:o.picture})};return(async()=>{await(null==o?void 0:o.ensureInit("button",e)),(0,_.ru)({buttonRef:t,isDesktop:!1})})(),()=>{null==o||o.removeButtonCallback(e)}}),[o]),(0,d.jsx)(c.xu,{position:"relative",children:(0,d.jsx)(c.iP,{onTap:()=>(0,p.My)("gsi_personalized_button.tap"),children:(0,d.jsx)(c.xu,{"aria-label":"GOOGLE_SIGNIN_BUTTON",height:44,children:(0,d.jsx)(c.xu,{ref:t,position:"absolute",width:"100%"})})})})}function m(e){var t;const{checkExperiment:o}=(0,h.F)(),{anyEnabled:n}=o("mweb_google_disabled");return(null===(t=(0,r.useHistory)().location.state)||void 0===t?void 0:t.isAppFactoryOAuth)?null:n?(0,d.jsx)(u,{}):(0,d.jsx)(b,{onGoogleConnectSuccess:e.onGoogleConnectSuccess})}},738759:(e,t,o)=>{o.d(t,{Z:()=>k,R:()=>v});var n=o(667294),i=o(702664),s=o(157796),a=o(391254),l=o(883119),r=o(100183);const c={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#0074e8",successBase:"#B469EB"},d="DelightfulBubbles__",u=[`${d}fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n`,`${d}growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n`,`${d}swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n`,...Object.keys(c).map((e=>{const t=((e,t)=>{const o=e.length,n=e.indexOf(t)+1>=o?0:e.indexOf(t)+1;return e[n]})(Object.keys(c),e);return`${d}colorChange_${e} {\n      0% {\n        background-color: ${c[e]};\n      }\n      50% {\n        background-color: ${c[t]};\n      }\n    }\n    `}))],_=(0,r.Ll)(u);var h=o(785893);function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const p=e=>{const{delay:t,diameter:o,height:n,initialColor:i,width:s,xOffset:a,yOffset:r}=e,u=((e,t,o,n,i,s,a,l)=>({bubblePositionStyles:{position:"absolute",marginLeft:s/2-i+"px",marginTop:o/2-i+"px",left:`${a}px`,top:`${l}px`},bubbleSwirlStyles:{animation:`${d}swirl 6s ease-in-out ${e}s infinite forwards`,WebkitAnimation:`${d}swirl 6s ease-in-out ${e}s infinite forwards`},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:`${d}growShrink 6s ease-in-out ${e}s infinite alternate`,WebkitAnimation:`${d}growShrink 6s ease-in-out ${e}s infinite alternate`},bubbleShapeStyles:{height:`${t}px`,width:`${t}px`,borderRadius:"50%",backgroundColor:c[n],opacity:0,animation:`${d}colorChange_${n} 12s steps(1, start) ${e}s infinite forwards,\n      ${d}fadeIn 3s linear ${e}s 1 forwards`,WebkitAnimation:`${d}colorChange_${n} 12s steps(1, start) ${e}s infinite forwards,\n      ${d}fadeIn 3s linear ${e}s 1 forwards`}}))(t,o,n,i,Math.floor(o/2),s,a,r);return(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u.bubblePositionStyles},children:(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u.bubbleSwirlStyles},children:(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u.bubbleGrowShrinkStyles},children:(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:u.bubbleShapeStyles}})})})})};class b extends n.Component{constructor(...e){super(...e),g(this,"state",{isInitialized:!1})}componentDidMount(){window.requestAnimationFrame((()=>{this.setState({isInitialized:!0})}))}shouldComponentUpdate(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}getSize(){const{width:e,height:t}=this.props;return void 0!==e&&void 0!==t?{width:e,height:t}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{height:void 0,width:void 0}}createBubbles(e,t){const{bubbleSize:o,delayFactor:n,delayOffset:i,numBubbles:s,xRadiusAdjustment:a,yRadiusAdjustment:l}=this.props,d=e+2*l,u=t+2*a,_=[],g=Object.keys(c);for(let c=0;c<s;c+=1){const s=o+(0,r.XF)(-4,4),a=g[c%g.length],{x:l,y:b}=(0,r.CC)(d,u);_.push((0,h.jsx)(p,{delay:c*n+i,diameter:s,initialColor:a,xOffset:l,yOffset:b,height:e,width:t},c))}return _}render(){const{height:e,width:t}=this.getSize();return(0,h.jsxs)(l.xu,{height:e,width:t,position:"relative",children:[(0,h.jsx)(a.Z,{unsafeCSS:_}),(0,h.jsxs)(l.xu,{position:"absolute",ref:e=>this.containerElement=e,children:[this.state.isInitialized&&this.createBubbles(e||0,t||0),(0,h.jsx)(l.xu,{position:"relative",children:this.props.children})]})]})}}g(b,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});const m=b;var x=o(7111),f=o(705834),y=o(898781),w=o(693099);const v=e=>new Set([...w.EU,...w.rT,...w.IO]).has(e);function k({isReducedHeader:e,progressBarAnimationDuration:t}){const o=(0,y.ZP)(),a=(0,i.useSelector)((({session:e})=>e.country)),r=v(a);return(0,h.jsx)(n.Fragment,{children:r?(0,h.jsx)(f.Z,{viewType:10,viewParameter:259,children:(0,h.jsxs)(l.xu,{position:"fixed",top:!0,left:!0,right:!0,bottom:!0,width:"100%",color:"default",children:[(0,h.jsx)(s.Z,{color:"dark",duration:t||3e3,finalProgress:95}),(0,h.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,h.jsxs)(l.xu,{margin:10,children:[(0,h.jsx)(l.X6,{overflow:"normal",size:e?"500":"600",children:o._('Your account is being created!', 'account created heading', 'account created heading')}),(0,h.jsx)(l.xv,{overflow:"normal",children:o._('You can now save ideas, get personalized recommendations, and more', 'loading state description while waiting for any sign up registration to complete', 'loading state description while waiting for any sign up registration to complete')})]}),(0,h.jsx)(l.kC,{alignItems:"center",flex:"grow",justifyContent:"center",children:(0,h.jsx)(m,{delayOffset:-5,xRadiusAdjustment:40,yRadiusAdjustment:40,children:(0,h.jsx)(l.xu,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:120,justifyContent:"end",overflow:"hidden",rounding:"circle",width:120,children:(0,h.jsx)(l.JO,{accessibilityLabel:o._('Loading', 'Loading state for any sign up registration', 'Loading state for any sign up registration'),color:"subtle",icon:"person",size:"90"})})})})]})]})}):(0,h.jsx)(x.Z,{})})}},721809:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(121151),i=o(898781),s=o(883119),a=o(785893);function l({type:e,onDismiss:t}){const o=(0,i.ZP)(),l="facebook"===e?o._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):o._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),r="facebook"===e?o._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):o._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,a.jsx)(n.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:!0,onDismiss:t,type:"social_auth_disabled_modal",children:(0,a.jsxs)(s.xu,{padding:5,children:[(0,a.jsx)(s.xu,{marginBottom:3,children:(0,a.jsx)(s.X6,{size:"500",accessibilityLevel:1,children:l})}),(0,a.jsx)(s.xu,{marginBottom:3,children:(0,a.jsx)(s.xv,{children:r})}),(0,a.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,a.jsx)(s.xu,{paddingY:1,children:(0,a.jsx)(s.zx,{accessibilityLabel:o._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),size:"lg",color:"red",text:o._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),onClick:t})})})]})})}},843325:(e,t,o)=>{o.d(t,{Z:()=>H});var n=o(667294),i=o(702664),s=o(721809),a=o(898781),l=o(539497),r=o(773285),c=o(883119),d=o(467570),u=o(785893);function _({onFacebookConnectError:e,onFacebookConnectSuccess:t,onTouch:o,isRerequest:_}){const h=(0,a.ZP)(),{checkExperiment:g}=(0,r.F)(),{locale:p}=(0,i.useSelector)((e=>e.session)),{anyEnabled:b}=g("mweb_facebook_disabled"),[m,x]=(0,n.useState)(!1),[f,y]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{b||(0,d.we)(p).then((()=>{x(!0)}))}),[p,b]),(0,u.jsxs)(c.xu,{position:"relative","data-test-id":"FacebookConnectContainer",children:[(0,u.jsx)(c.xu,{bottom:!0,left:!0,right:!0,top:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",rounding:5,children:(0,u.jsx)("div",{className:"fb-login-button","data-width":"100%","data-max-rows":"1","data-size":"large","data-button-type":"continue_with","data-layout":"rounded","data-show-faces":"false","data-auth-type":_?"rerequest":void 0,"data-scope":d.$.join(","),"data-auto-logout-link":"false","data-use-continue-as":g("pcons_mweb_fb_shadow_test").group.startsWith("enabled_no_continue")?"false":"true","shadow-test":g("pcons_mweb_fb_shadow_test").anyEnabled?"true":"false"})}),(0,u.jsxs)("button",{onClick:()=>{(0,l.My)("unauth_mweb.facebook_connect.button_click"),null==o||o(),b?y(!0):m&&(0,d.JF)().then((({creds:e,signupOptions:o})=>{t(e,o)}),e)},style:{display:"flex",alignItems:"center",backgroundColor:"#1877F2",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",minWidth:"240px",borderRadius:"20px",padding:"0px 0px 0px 8px"},type:"button","data-test-id":"FacebookConnectButton",children:[(0,u.jsx)(c.xu,{color:"default",rounding:3,dangerouslySetInlineStyle:{__style:{paddingTop:"5px",paddingLeft:"3px",paddingRight:"2px",marginLeft:"4px",marginRight:"4.4px"}},children:(0,u.jsx)(c.JO,{accessibilityLabel:h._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,u.jsx)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",flex:"grow",marginEnd:1,children:(0,u.jsx)("span",{style:{fontFamily:"Helvetica, Arial, sans-serif",fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"8px",letterSpacing:"0.25px"},children:h._('Continue with Facebook', 'Login page button', 'Login page button')})})]}),f&&(0,u.jsx)(s.Z,{type:"facebook",onDismiss:()=>y(!1)})]})}var h=o(435856),g=o(7111),p=o(989392),b=o(30700),m=o(176532),x=o(160585),f=o(182666),y=o.n(f),w=o(966113),v=o(829407),k=o(826067),j=o(780280),A=o(957161);const P={defaultButton:{display:"flex",alignItems:"center",backgroundColor:"#00C300",border:"none",height:"40px",transition:"opacity .2s linear",width:"100%",borderRadius:"20px",padding:"0px 0px 0px 8px"},lineLogo:{borderRadius:"12px",backgroundColor:"#00C300",width:"32px",height:"32px"},buttonText:{fontWeight:"bold",color:"#fff",fontSize:"16px",paddingRight:"33px"}},z=({buttonText:e,onLineConnectSuccess:t,onLineConnectError:o,onTouch:n})=>{const i=(0,a.ZP)(),{checkExperiment:s}=(0,r.F)(),{anyEnabled:d}=s("mweb_line_oauth_jp"),{anyEnabled:_}=s("mweb_line_oauth_jp_android"),h=d||_,g=(0,x.Z)(10),{locale:p}=(0,j.B)();let b;const f=e=>{const n=(0,k.mB)(e);if(n.state&&n.code&&n.state===g){b&&!b.closed&&b.close();const e=`${window.location.origin}/oauth/line/redirect`;(0,m.Z)({url:"/oauth/line/verify",type:"POST",data:{code:n.code,redirect_uri:e}}).promise.then((({ok:e,responseText:n})=>{if(e&&n){const e=JSON.parse(n),{id_token:o,access_token:i}=e;o&&i&&t({line_id_token:o,line_access_token:i},{type:"line",line_id_token:o,line_access_token:i})}else o()}))}},z=e=>{e.isTrusted&&e.origin===window.location.origin&&e.data&&f(String(e.data))},S=e=>{if(e.isTrusted&&e.url.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===e.key){const e=(0,A.qn)("lineOAuthOneTimeCode");e&&f(e)}};(0,v.Z)((()=>()=>{window.removeEventListener("message",z),window.removeEventListener("storage",S),(0,A.L_)("lineOAuthOneTimeCode"),b&&!b.closed&&b.close()}));const C=P.defaultButton;return h?(0,u.jsx)(c.xu,{position:"relative","data-test-id":"LineConnectContainer",children:(0,u.jsxs)("button",{onClick:()=>{(0,l.My)("unauth_mweb.line_connect.button_click"),n&&n();const e=`${window.location.origin}/oauth/line/redirect`;window.addEventListener("message",z,!1),window.addEventListener("storage",S),b=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${w.Z.settings.LINE_CLIENT_ID}&redirect_uri=${encodeURIComponent(e)}&state=${g}&ui_locales=${p}&scope=profile%20openid%20email`,"_blank")},style:C,type:"button","data-test-id":"line-connect-button",children:[(0,u.jsx)("img",{style:P.lineLogo,src:y(),alt:i._('line', 'accessible label for line icon', 'accessible label for line icon')}),(0,u.jsx)(c.kC,{alignItems:"center",justifyContent:"center",flex:"grow",children:(0,u.jsx)("span",{style:P.buttonText,children:e})})]})}):null};var S=o(638543),C=o(474635),L=o(53987),O=o(276775);function E({within:e}){const t=(0,a.ZP)(),o=(0,O.useLocation)(),{userAgentPlatform:n}=(0,i.useSelector)((({session:e})=>e)),{pathname:s}=o;return(0,u.jsx)(c.xu,{"data-test-id":"continue-app-button",marginBottom:2,children:(0,u.jsx)(C.Z,{componentType:13858,within:null!=e?e:"unauth-signup-modal",children:({handleOpenApp:i})=>(0,u.jsx)(c.zx,{text:t._('Get Pinterest App', 'unauth.modal.get_app.button_text', 'App download button text'),color:"red",fullWidth:!0,onClick:()=>{(0,l.My)("homepage_top_module"===e?"mweb.unauth.homepage.top.download_app_button.click":"homepage_bottom_module"===e?"mweb.unauth.homepage.bottom.download_app_button.click":"mweb.unauth.signup_modal.download_app_button.click"),s&&i({deepLinkUri:"/"===s?"/":!(0,L.cD)(o)||"ios"!==n&&"ipad"!==n?s.substr(1):"user"+s})}})})})}var Z=o(499128),B=o(112690),T=o(204324),I=o(19121),F=o(738759),$=o(693099),R=o(185894),D=o(597897),M=o(967053),N=o(760547),W=o(343341),G=o(584595),U=o(45169);function H({facebook:e,fbConnectHandler:t,footer:o,from:s,google:m,isBusiness:x,isRerequest:f,line:y,next:w="/",noImmediateRedirect:v,onFacebookTouch:k,onLoginTouch:A,onSignupTouch:P,showAppInstallButton:C,showEmailButton:L,showTextDivider:H,viewParameter:q,within:K}){var Y;const J=(0,O.useHistory)(),X=(0,O.useLocation)(),V=(0,a.ZP)(),{showToast:Q}=(0,W.F9)(),ee=(0,B.Z)(),te=(0,i.useDispatch)(),oe=(0,M.f0)(),ne=(0,D.U)(),{flush:ie}=(0,r.F)(),se=(0,N.m)(),ae=(0,T.Z)(),{isAuth:le,isLimitedLogin:re}=(0,I.Z)(),{country:ce}=(0,j.B)(),[de,ue]=(0,n.useState)(null),[_e,he]=(0,n.useState)("default"),ge=("facebook"===_e?5e3:"google"===_e&&4e3)||void 0;(0,n.useEffect)((()=>{if(ne){var e,t;if(o)null===(e=ne.preload)||void 0===e||e.call(ne,new URL("login.js","file://"));if(L)null===(t=ne.preload)||void 0===t||t.call(ne,new URL("signup.js","file://"))}}),[]);const pe=le?{login_state:re?2:1}:Object.freeze({}),be=e=>{ee({view_type:10,view_parameter:q,element:e,event_type:102,aux_data:pe})},me=(e,t)=>{let o,n;switch(t){case"facebook":o=3205,n=2;break;case"google":o=3204,n=3;break;case"line":o=3556,n=8}ee({event_type:e,view_type:10,view_parameter:o,aux_data:{...pe,signup_login_method:n}})},xe=e=>(o,n)=>{const i="google"===e?"gsi_btn":"other",s=X.state&&X.state.switch_account?{switchAccount:!0,trigger:i}:{noImmediateRedirect:v,trigger:i};"facebook"===e&&(null==t||t("success")),(0,l.NC)(e+"_login_success"),me(7534,e),oe(o,J,w,s).then((()=>{me(7536,e)})).catch((t=>{me(7535,e),((e,t,o,n)=>{ue(null);const i=({birthday:e})=>"facebook"===n&&!!e&&(0,p.Z)(e,18),s=e=>{if((0,l.My)("unauth_mweb.facebook_signup_attempt"),o.gender||(0,l.My)("unauth_mweb.facebook_signup_attempt.nogender"),null!=e&&e.isLineMissingEmailError||!i({birthday:o.birthday})){"facebook"===n&&o.birthday&&(o.birthday=String((0,h.Z)(o.birthday||""))),ue("signup"),he(n),me(7537,n);const e="facebook"===o.type?{...o,email_source_site:U.E_.FACEBOOK,birthday_source_site:U.E_.FACEBOOK}:o;se(e).then((()=>{me(7487,n),(0,l.NC)("signup_via_login_buttons"),["facebook","google"].includes(n)&&ae(w||"/"),ue(null)}),(e=>{if("line"===o.type){const t=o;e.api_error_code===G.iZ?J.push({pathname:"/signup/line-email-collect/",state:{signupOptions:t}}):e.api_error_code===G.NF&&J.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:t}})}me(7488,n),Q((({hideToast:t})=>(0,u.jsx)(Z.ZP,{text:e.api_error_code&&e.message?e.message:V._('Sorry! Something went wrong on our end.', 'Error logging on', 'Error logging on'),onHide:t}))),ue(null)}))}else ie(),J.push({pathname:"/signup/thirdpartyage/",state:{signupOptions:"facebook"===o.type?{...o,email_source_site:U.E_.FACEBOOK}:o,progressBarAnimationDuration:ge}})};t&&[G.xN,G.lg,G.Pv].includes(t.api_error_code)?"facebook"!==o.type||o.email?s({isLineMissingEmailError:t.api_error_code===G.Pv}):(0,d.uP)("email").then((({hasPerm:e})=>{const t=o;J.push({pathname:"/signup/fbemailcollect/",state:{signupOptions:t,includeAgeStep:((0,U.NN)(ce)||$.rT.includes(ce))&&i({birthday:o.birthday})}}),(0,l.My)(`unauth_mweb.reg_via_fb.has_email_perm.${String(!!e)}`)})).catch((e=>{s()})):((0,l.My)(t?`mweb_login_button_skip_register.api_error_code.${t.api_error_code}`:"unauth_mweb.login.unexpected_error"),Q((({hideToast:e})=>(0,u.jsx)(Z.ZP,{text:t&&t.api_error_code&&t.message?t.message:V._('Sorry, we can\'t log you in.', 'Error message when user having trouble login in.', 'Error message when user having trouble login in.'),onHide:e}))))})(0,t,n,e)})),ue("login"),he(e)},fe=({event:e})=>{e.stopPropagation(),e.preventDefault(),null==A||A(),s&&te((0,R.rm)(s)),(0,l.LW)({action:"click",pageLocation:X,item:"login-button"}),be(30),(0,l.My)(`unauth_mweb.login_buttons.footer.${(null==o?void 0:o.type)||"button"}`),(0,l.NC)("press_login"),J.push({pathname:x?"/business/login/":"/login/",search:X.search,state:{next:w}})};return(0,u.jsxs)(c.xu,{marginTop:x?-5:0,maxWidth:400,marginStart:"auto",marginEnd:"auto","data-test-id":"LoginButtonsContainer",children:[H&&(0,u.jsx)(c.xu,{marginBottom:3,marginTop:3,children:(0,u.jsx)(c.xv,{align:"center",size:"100",weight:"bold",children:V._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,u.jsx)(c.xu,{marginBottom:6,children:(0,u.jsxs)(n.Fragment,{children:[C&&(0,u.jsx)(E,{within:K}),L&&(0,u.jsx)(c.xu,{"data-test-id":"continue-email-button",marginBottom:x?-2:2,children:(0,u.jsx)(c.zx,{fullWidth:!0,color:C?"gray":"red",text:x?V._('Create account', 'Button text for creating a business account', 'Button text for creating a business account'):V._('Continue with email', 'Sign up button', 'Sign up button'),onClick:({event:e})=>{e&&(e.stopPropagation(),e.preventDefault()),(0,l.NC)("press_email_signup"),(0,l.LW)({action:"click",pageLocation:X,item:"email-signup-button"}),null==P||P(),s&&te((0,R.rm)(s)),be(31),J.push({pathname:x?"/business/signup/step1/":"/signup/step1/",search:X.search,state:{next:w}})}})}),e&&!(null!==(Y=J.location.state)&&void 0!==Y&&Y.isAppFactoryOAuth)&&(0,u.jsx)(c.xu,{marginBottom:2,"data-test-id":"facebook-connect-button",children:(0,u.jsx)(_,{onFacebookConnectError:()=>{null==t||t("error"),Q((({hideToast:e})=>(0,u.jsx)(Z.ZP,{text:V._('Unable to connect to Facebook', 'Error logging on with Facebook', 'Error logging on with Facebook'),onHide:e})))},onFacebookConnectSuccess:xe("facebook"),onTouch:()=>{null==k||k(),(0,l.LW)({action:"click",pageLocation:X,item:"facebook-connect-button"}),be(68)},isRerequest:f})}),m&&(0,u.jsx)(c.xu,{marginBottom:2,"data-test-id":"google-connect-button",children:(0,u.jsx)(S.Z,{isAuthenticated:le,onGoogleConnectSuccess:xe("google")})}),y&&(0,u.jsx)(c.xu,{marginBottom:2,"data-test-id":"line-connect-button",children:(0,u.jsx)(z,{buttonText:V._('Continue with LINE', 'Login page button', 'Login page button'),onLineConnectError:()=>{Q((({hideToast:e})=>(0,u.jsx)(Z.ZP,{text:V._('Unable to connect to Line', 'Error logging on with Line', 'Error logging on with Line'),onHide:e})))},onLineConnectSuccess:xe("line"),onTouch:()=>{be(12277),(0,l.LW)({action:"click",pageLocation:X,item:"line-connect-button"})}})})]})}),o&&("member_link"===o.type?(0,u.jsx)(c.xu,{marginTop:-4,"data-test-id":"login-member",children:(0,u.jsx)(b.Z,{pressState:"none",onTouch:e=>fe({event:e}),children:(0,u.jsx)(c.xu,{paddingY:o.noPadding?0:4,marginBottom:o.increasedSpaceBelow?-1:-2,children:(0,u.jsx)(c.xv,{align:"center",size:"200",weight:"bold",color:o.textColorIsLight?"light":"dark",children:V._('Already a member? Log in', 'Link on mobile web sign up modal to direct unauth users to the login page', 'Link on mobile web sign up modal to direct unauth users to the login page')})})})}):(0,u.jsx)(c.xu,{marginBottom:5,"data-test-id":"login-button",children:(0,u.jsx)(c.zx,{fullWidth:!0,color:"transparent",onClick:fe,text:V._('Log in', 'Login page button', 'Login page button')})})),de&&("signup"===de?(0,u.jsx)(F.Z,{progressBarAnimationDuration:ge}):(0,u.jsx)(g.Z,{}))]})}},977981:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(966113),i=o(898781),s=o(112690),a=o(349700),l=o(539497),r=o(385740),c=o(276775),d=o(883119),u=o(785893);function _({isMobileHomepage:e,isBusiness:t=!1,size:o="sm",alignText:_="center"}){const h=(0,i.ZP)(),g=(0,c.useLocation)(),p=(0,s.Z)(),{viewType:b,viewParameter:m}=(0,r.SU)(),x=n.Z.settings.POLICY_PRIVACY_URL,f=t?n.Z.settings.PARTNER_SITE_TOS_URL:n.Z.settings.POLICY_TERMS_PLAIN_URL;return(0,u.jsx)(d.xu,{display:"flex",alignItems:"left"===_?"start":"center",alignSelf:"center",direction:"row",justifyContent:"center",paddingX:4,wrap:!0,children:(0,u.jsx)(d.xv,{color:e?"inverse":"subtle",align:"left"===_?"start":"center",size:"100",overflow:"normal",inline:!0,children:(0,a.nk)(h._('By continuing, you agree to Pinterest\'s {{ termsOfService }} and acknowledge you\'ve read our {{ privacyPolicy }}', ' - ', ' -- '),{termsOfService:(0,u.jsx)(d.xu,{display:"inlineBlock","data-test-id":"business-tos",children:(0,u.jsx)(d.xv,{color:e?"inverse":"subtle",inline:!0,size:"100",weight:"bold",children:(0,u.jsx)(d.rU,{href:f,inline:!0,target:"blank",onClick:()=>{(0,l.LW)({action:"click",pageLocation:g,item:"business-tos"}),b&&p({view_type:b,view_parameter:m,element:8012,event_type:102})},underline:"hover",children:t?h._('Business Terms of Service', 'Mobile web business terms of service link for partners', 'Mobile web business terms of service link for partners'):h._('Terms of Service', 'Mobile web terms of service link', 'Mobile web terms of service link')})})},"termsOfService"),privacyPolicy:(0,u.jsx)(d.xu,{display:"inlineBlock","data-test-id":"privacy",children:(0,u.jsx)(d.xv,{color:e?"inverse":"subtle",inline:!0,size:"100",weight:"bold",children:(0,u.jsx)(d.rU,{href:x,inline:!0,target:"blank",onClick:()=>{(0,l.LW)({action:"click",pageLocation:g,item:"privacy-policy"}),b&&p({view_type:b,view_parameter:m,element:8004,event_type:102})},underline:"hover",children:h._('Privacy Policy', 'Mobile web privacy policy link', 'Mobile web privacy policy link')})})},"privacyPolicy")})})})}},760547:(e,t,o)=>{o.d(t,{m:()=>j});var n=o(702664),i=o(231486),s=o(957161),a=o(693099);function l(){return function(e){const t={};return e.forEach((e=>{const o=JSON.parse((0,s.qn)(e));o&&(t[e]=o)})),JSON.stringify(t)}([a.E9])}var r=o(6637),c=o(594881),d=o(371415),u=o(383690),_=o(330102),h=o(45169),g=o(81759),p=o(957191),b=o(983360),m=o(226198),x=o(622096),f=o(738759),y=o(408285),w=o(773285),v=o(584595),k=o(539497);const j=()=>{const e=(0,w.F)(),t=(0,n.useDispatch)(),{country:o,country_from_hostname:s,country_from_ip:a,region_from_ip:j,isAuthenticated:A}=(0,n.useSelector)((({session:e})=>e)),P=(0,u.Z)();return(n,u)=>{const w=(0,h.Y)(n),z=null==u?void 0:u.trigger;(0,k.De)({action:"signup",event:"attempt",trigger:z,type:w}),P();let S=0;const C=(0,f.R)(o),L=new Promise(((e,t)=>{C?setTimeout((()=>{e()}),3e3):e()}));return new Promise(((u,h)=>{const f=()=>{const P=A,C=(0,g.t_)(),O={...n,user_behavior_data:l(),visited_pages:C};r.Z.create("UserRegisterResource",{...O,get_user:!0}).callCreate().then((i=>L.then((()=>{(0,x.L_)("d_pif_invite");const l=i.client_context;var r;t((r=i.resource_response.data.user,{type:b.c7,payload:{user:r}})),l&&(l.placed_experiences&&t((0,p.OD)(l.placed_experiences)),e.active=l.active_experiments,e.triggerable=l.triggerable_experiments),P&&(0,d.Z)("registration.signup_success");const h=n.email||n.username||null,g=n.password||null,m=navigator.credentials;if(m&&h&&g)try{const e=new window.PasswordCredential({id:h,password:g});(0,k.My)("unauth_mweb.navigatorCredentials.store.attempt"),m.store(e).then((()=>{(0,k.My)("unauth_mweb.navigatorCredentials.store.success")}))}catch(f){(0,k.My)("unauth_mweb.navigatorCredentials.store.error")}(0,k.De)({action:"signup",event:"success",trigger:z,type:w}),(0,c.Z)(),P&&(0,y.Dm)(),(0,_.ko)({country:o,countryFromHostName:s,countryFromIp:a,regionFromIp:j,deviceType:"Mobile",eventCategory:"NewUsers"}),u()})))).catch((e=>{(null==e?void 0:e.api_error_code)===v.tz&&((0,k.My)("multi_step_set_age_restrict_cookie"),i.t8(m.It,"1",(0,i.kZ)(m.It))),S<3&&[v.dO,v.cZ].includes(null==e?void 0:e.api_error_code)?(S+=1,f()):((0,k.De)({action:"signup",event:"fail",trigger:z,type:w}),P&&(0,d.Z)("registration.signup_error"),h(e))}))};f()}))}}},204324:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(78714),i=o(276775),s=o(50286);function a(){const e=(0,i.useHistory)(),t=(0,s.HG)();return o=>{t?(0,n.Z)(o,{disableOriginCheck:!0}):e.push(o)}}},160585:(e,t,o)=>{function n(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(Math.random()*t.length)])).join("")}o.d(t,{Z:()=>n})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/17156-86f7845d67ea3dd6.mjs.map